!function(a){$urlField=a(".volume-url");var b=a(".s3-key-id"),c=a(".s3-secret-key"),d=a(".s3-bucket-select > select"),e=a(".s3-refresh-buckets"),f=e.parent().next().children(),g=a(".s3-region"),h=!1;e.click(function(){if(!e.hasClass("disabled")){e.addClass("disabled"),f.removeClass("hidden");var a={params:{keyId:b.val(),secret:c.val()},volumeType:"AwsS3",dataType:"bucketList"};Craft.postActionRequest("volumes/loadVolumeTypeData",a,function(a,b){if(e.removeClass("disabled"),f.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=d.val(),g=!1;h=!0,d.prop("readonly",!1).empty();for(var i=0;i<a.length;i++)a[i].bucket==c&&(g=!0),d.append('<option value="'+a[i].bucket+'" data-url-prefix="'+a[i].urlPrefix+'" data-region="'+a[i].region+'">'+a[i].bucket+"</option>");g&&d.val(c),h=!1,g||d.trigger("change")}})}}),d.change(function(){if(!h){var a=d.children("option:selected");$urlField.val(a.data("url-prefix")),g.val(a.data("region"))}});var i=a(".rackspace-username"),j=a(".racskspace-api-key"),k=a(".rackspace-region-select > select"),l=a(".rackspace-container-select > select"),m=a(".rackspace-refresh-containers"),n=m.parent().next().children(),o=!1;m.click(function(){if(!m.hasClass("disabled")){m.addClass("disabled"),n.removeClass("hidden");var a={params:{username:i.val(),apiKey:j.val(),region:k.val()},volumeType:"Rackspace",dataType:"containerList"};Craft.postActionRequest("volumes/loadVolumeTypeData",a,function(a,b){if(m.removeClass("disabled"),n.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=l.val(),d=!1;o=!0,l.prop("readonly",!1).empty();for(var e=0;e<a.length;e++)a[e].container==c&&(d=!0),l.append('<option value="'+a[e].container+'" data-urlprefix="'+a[e].urlPrefix+'">'+a[e].container+"</option>");d&&l.val(c),o=!1,d||l.trigger("change")}})}}),l.change(function(){if(!o){var a=l.children("option:selected");$urlField.val(a.data("urlprefix"))}});var p=a(".google-key-id"),q=a(".google-secret-key"),r=a(".google-bucket-select > select"),s=a(".google-refresh-buckets"),t=s.parent().next().children(),u=!1;s.click(function(){if(!s.hasClass("disabled")){s.addClass("disabled"),t.removeClass("hidden");var a={params:{keyId:p.val(),secret:q.val()},volumeType:"GoogleCloud",dataType:"bucketList"};Craft.postActionRequest("volumes/loadVolumeTypeData",a,function(a,b){if(s.removeClass("disabled"),t.addClass("hidden"),"success"==b)if(a.error)alert(a.error);else if(a.length>0){var c=r.val(),d=!1;u=!0,r.prop("readonly",!1).empty();for(var e=0;e<a.length;e++)a[e].bucket==c&&(d=!0),r.append('<option value="'+a[e].bucket+'" data-url-prefix="'+a[e].urlPrefix+'">'+a[e].bucket+"</option>");d&&r.val(c),u=!1,d||r.trigger("change")}})}}),r.change(function(){if(!u){var a=r.children("option:selected");$urlField.val(a.data("url-prefix"))}});var v=function(){var b=a(this).parents(".field"),c=b.find(".expires-amount").val(),d=b.find(".expires-period select").val(),e=0==parseInt(c,10)||0==d.length?"":c+d;b.find("[type=hidden]").val(e)};a(".expires-amount").keyup(v).change(v),a(".expires-period select").change(v)}(jQuery);
//# sourceMappingURL=asseteditvolumesettings.js.map